{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nconst _c0 = [\"name\"];\nconst _c1 = [\"mail\"];\nconst _c2 = [\"pass\"];\nexport class RegisteringComponent {\n  constructor(r) {\n    this.router = r;\n  }\n  validate(name, mail) {\n    const expression = /^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;\n    let test = expression.test(mail);\n    return test;\n  }\n  register() {\n    let test = this.validate(this.name.nativeElement.value, this.mail.nativeElement.value);\n    console.log(test);\n    if (test == true) {\n      const us = {\n        nick: this.name.nativeElement.value,\n        email: this.mail.nativeElement.value,\n        password: this.pass.nativeElement.value\n      };\n      let fun = this.callbackRequest(us);\n      fun.subscribe(res => {\n        console.log(res);\n      });\n      this.name.nativeElement.value = \"\";\n      this.mail.nativeElement.value = \"\";\n      this.pass.nativeElement.value = \"\";\n      alert(\"Zarejestrowano poprawnie!\");\n      this.load();\n    } else {\n      alert(\"Walidacja niepoprawna!\");\n    }\n  }\n}\nRegisteringComponent.ɵfac = function RegisteringComponent_Factory(t) {\n  return new (t || RegisteringComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nRegisteringComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisteringComponent,\n  selectors: [[\"app-registering\"]],\n  viewQuery: function RegisteringComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n      i0.ɵɵviewQuery(_c2, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.name = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mail = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.pass = _t.first);\n    }\n  },\n  decls: 22,\n  vars: 0,\n  consts: [[1, \"container\"], [1, \"form\"], [\"form\", \"\"], [1, \"inputs\"], [\"type\", \"text\", 1, \"nick\"], [\"name\", \"\"], [\"type\", \"tel\", 1, \"email\"], [\"mail\", \"\"], [\"type\", \"tel\", 1, \"password\"], [\"pass\", \"\"], [1, \"add\", 3, \"click\"]],\n  template: function RegisteringComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-menu-bar\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1, 2)(4, \"div\", 3)(5, \"p\");\n      i0.ɵɵtext(6, \"Nick:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 4, 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 3)(10, \"p\");\n      i0.ɵɵtext(11, \"EMail:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 6, 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 3)(15, \"p\");\n      i0.ɵɵtext(16, \"Password:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"input\", 8, 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 3)(20, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function RegisteringComponent_Template_button_click_20_listener() {\n        return ctx.register();\n      });\n      i0.ɵɵtext(21, \"Dodaj\");\n      i0.ɵɵelementEnd()()()();\n    }\n  },\n  styles: [\".container[_ngcontent-%COMP%]{\\r\\n    min-height: 250px;\\r\\n    width: 1100px;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n    margin-top: 20px;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    \\r\\n    justify-content: center;\\r\\n    opacity: 90%;\\r\\n}\\r\\n\\r\\n.form[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    \\r\\n    height: -moz-fit-content;\\r\\n    height: fit-content;\\r\\n    width: 300px;\\r\\n    border-radius: 15px;\\r\\n    background-color: rgb(197, 54, 54);\\r\\n    align-self: flex-end;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.inputs[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 4px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVnaXN0ZXJpbmcvcmVnaXN0ZXJpbmcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsYUFBYTtJQUNiLGVBQWU7SUFDZiw0QkFBNEI7SUFDNUIsdUJBQXVCO0lBQ3ZCLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IscUJBQXFCO0lBQ3JCLHdCQUFtQjtJQUFuQixtQkFBbUI7SUFDbkIsWUFBWTtJQUNaLG1CQUFtQjtJQUNuQixrQ0FBa0M7SUFDbEMsb0JBQW9CO0lBQ3BCLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lcntcclxuICAgIG1pbi1oZWlnaHQ6IDI1MHB4O1xyXG4gICAgd2lkdGg6IDExMDBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiBhcXVhOyAqL1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBvcGFjaXR5OiA5MCU7XHJcbn1cclxuXHJcbi5mb3Jte1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIC8qIGZsZXgtd3JhcDogd3JhcDsgKi9cclxuICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XHJcbiAgICB3aWR0aDogMzAwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE5NywgNTQsIDU0KTtcclxuICAgIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxuLmlucHV0c3tcclxuICAgIG1hcmdpbi1ib3R0b206IDRweDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;AAWA,OAAM,MAAOA,oBAAoB;EAU7BC,YAAYC,CAAiB;IACzB,IAAI,CAACC,MAAM,GAAGD,CAAC;EACnB;EAIFE,QAAQ,CAACC,IAAW,EAAEC,IAAW;IAC/B,MAAMC,UAAU,GAAW,4LAA4L;IACvN,IAAIC,IAAI,GAAGD,UAAU,CAACC,IAAI,CAACF,IAAI,CAAC;IAChC,OAAOE,IAAI;EACb;EAEAC,QAAQ;IAEN,IAAID,IAAI,GAAG,IAAI,CAACJ,QAAQ,CAAC,IAAI,CAACC,IAAI,CAACK,aAAa,CAACC,KAAK,EAAE,IAAI,CAACL,IAAI,CAACI,aAAa,CAACC,KAAK,CAAC;IACtFC,OAAO,CAACC,GAAG,CAACL,IAAI,CAAC;IACjB,IAAGA,IAAI,IAAI,IAAI,EAAC;MACd,MAAMM,EAAE,GAAQ;QACdC,IAAI,EAAE,IAAI,CAACV,IAAI,CAACK,aAAa,CAACC,KAAK;QACnCK,KAAK,EAAE,IAAI,CAACV,IAAI,CAACI,aAAa,CAACC,KAAK;QACpCM,QAAQ,EAAE,IAAI,CAACC,IAAI,CAACR,aAAa,CAACC;OAClC;MAEF,IAAIQ,GAAG,GAAG,IAAI,CAACC,eAAe,CAACN,EAAE,CAAC;MAClCK,GAAG,CAACE,SAAS,CAAEC,GAAQ,IAAG;QACtBV,OAAO,CAACC,GAAG,CAACS,GAAG,CAAC;MACpB,CAAC,CAAC;MACF,IAAI,CAACjB,IAAI,CAACK,aAAa,CAACC,KAAK,GAAG,EAAE;MAClC,IAAI,CAACL,IAAI,CAACI,aAAa,CAACC,KAAK,GAAG,EAAE;MAClC,IAAI,CAACO,IAAI,CAACR,aAAa,CAACC,KAAK,GAAG,EAAE;MAElCY,KAAK,CAAC,2BAA2B,CAAC;MAClC,IAAI,CAACC,IAAI,EAAE;KAEZ,MACG;MACFD,KAAK,CAAC,wBAAwB,CAAC;;EAEnC;;AAhDWvB,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAyB;EAAAC;IAAA;;;;;;;;;;;;;;;;;MCXjCC,+BAA6B;MAC7BA,8BAAyB;MAGNA,qBAAK;MAAAA,iBAAI;MACZA,8BAAwC;MAC5CA,iBAAM;MACNA,8BAAsB;MACfA,uBAAM;MAAAA,iBAAI;MACbA,+BAAwC;MAC5CA,iBAAM;MACNA,+BAAsB;MACfA,0BAAS;MAAAA,iBAAI;MAChBA,+BAA2C;MAC/CA,iBAAM;MACNA,+BAAsB;MACVA;QAAA,OAASC,cAAU;MAAA,EAAE;MAAeD,sBAAK;MAAAA,iBAAS","names":["RegisteringComponent","constructor","r","router","validate","name","mail","expression","test","register","nativeElement","value","console","log","us","nick","email","password","pass","fun","callbackRequest","subscribe","res","alert","load","selectors","viewQuery","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\Justyna\\Desktop\\PW\\Restaurant-App\\src\\app\\registering\\registering.component.ts","C:\\Users\\Justyna\\Desktop\\PW\\Restaurant-App\\src\\app\\registering\\registering.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ViewChild } from '@angular/core';\nimport { ElementRef } from '@angular/core';\nimport { User } from '../app.component';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-registering',\n  templateUrl: './registering.component.html',\n  styleUrls: ['./registering.component.css']\n})\nexport class RegisteringComponent {\n  @ViewChild('name') name:ElementRef;\n  @ViewChild('mail') mail:ElementRef;\n  @ViewChild('pass') pass:ElementRef;\n\n  callbackRequest:Function;\n  load:Function;\n\n  private router: ActivatedRoute;\n\n    constructor(r: ActivatedRoute) {\n        this.router = r;\n    }\n\n\n\n  validate(name:string, mail:string){\n    const expression: RegExp = /^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;\n    let test = expression.test(mail);\n    return test;\n  }\n\n  register(){\n\n    let test = this.validate(this.name.nativeElement.value, this.mail.nativeElement.value)\n    console.log(test);\n    if(test == true){\n      const us: User=({\n        nick: this.name.nativeElement.value,\n        email: this.mail.nativeElement.value,\n        password: this.pass.nativeElement.value\n      });\n\n      let fun = this.callbackRequest(us);\n      fun.subscribe((res:User)=>{\n          console.log(res);\n      })\n      this.name.nativeElement.value = \"\";\n      this.mail.nativeElement.value = \"\";\n      this.pass.nativeElement.value = \"\";\n\n      alert(\"Zarejestrowano poprawnie!\");\n      this.load();\n      \n    }\n    else{\n      alert(\"Walidacja niepoprawna!\");\n    }\n  }\n}\n","<app-menu-bar></app-menu-bar>\n<div class = \"container\">\n    <div class = \"form\"#form>\n            <div class = \"inputs\" >\n                <p>Nick:</p>\n                <input #name class = \"nick\" type=\"text\">\n            </div>\n            <div class = \"inputs\">\n                <p>EMail:</p>\n                <input #mail class = \"email\" type=\"tel\">\n            </div>\n            <div class = \"inputs\">\n                <p>Password:</p>\n                <input #pass class = \"password\" type=\"tel\">\n            </div>\n            <div class = \"inputs\">\n                <button (click)=\"register();\" class = \"add\">Dodaj</button>\n            </div>\n    </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}