{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nfunction CartComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"div\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(6, \"img\", 10);\n    i0.ɵɵelementStart(7, \"div\", 11);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_3_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const obj_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.remove(obj_r4.id));\n    });\n    i0.ɵɵelementStart(10, \"span\", 13);\n    i0.ɵɵtext(11, \" delete \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const obj_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(obj_r4.dish == null ? null : obj_r4.dish.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Cena: \", obj_r4.dish == null ? null : obj_r4.dish.price, \"z\\u0142\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", obj_r4.dish == null ? null : obj_r4.dish.link, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Liczba: \", obj_r4.number, \"szt.\");\n  }\n}\nfunction CartComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" Koszyk jest pusty \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CartComponent_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CartComponent_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.buy());\n    });\n    i0.ɵɵelementStart(1, \"span\", 13);\n    i0.ɵɵtext(2, \" paid \");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class CartComponent {\n  constructor(route) {\n    this.route = route;\n    this.orders = [];\n  }\n  ngOnInit() {\n    let user_id = JSON.parse(localStorage.getItem(\"currentUser\") || '{}').id;\n    let fun = this.getOrders(user_id);\n    fun.subscribe(res => {\n      let res1 = res.filter(item => item.bought != true);\n      this.orders = res1;\n    });\n  }\n  buy() {\n    this.orders.forEach(order => {\n      order.bought = true;\n      let fun = this.goHistory(order.id, order);\n      fun.subscribe();\n    });\n    this.orders = this.orders.filter(item => item.bought != true);\n  }\n  remove(id) {\n    let fun = this.removeById(id);\n    fun.subscribe(res => {});\n    this.orders = this.orders.filter(item => item.id != id);\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 6,\n  vars: 3,\n  consts: [[1, \"container\"], [\"id\", \"books\"], [\"books\", \"\"], [\"class\", \"book\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"empty\", 4, \"ngIf\"], [3, \"click\", 4, \"ngIf\"], [1, \"book\"], [1, \"data\"], [1, \"name\", \"text\"], [1, \"price\", \"text\"], [1, \"images\", 3, \"src\"], [1, \"number\", \"text\"], [3, \"click\"], [1, \"material-symbols-outlined\"], [1, \"empty\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1, 2);\n      i0.ɵɵtemplate(3, CartComponent_div_3_Template, 12, 4, \"div\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, CartComponent_div_4_Template, 2, 0, \"div\", 4);\n      i0.ɵɵtemplate(5, CartComponent_button_5_Template, 3, 0, \"button\", 5);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.orders);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.orders.length == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.orders.length != 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\".container[_ngcontent-%COMP%]{\\r\\n    min-height: 250px;\\r\\n    width: 1100px;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    \\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.inputs[_ngcontent-%COMP%]{\\r\\n    float: left;\\r\\n    margin: 10px;\\r\\n}\\r\\n\\r\\n.add[_ngcontent-%COMP%]{\\r\\n    float: left;\\r\\n    margin: 10px;\\r\\n    margin-top: 30px;\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n#books[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    height: -moz-fit-content;\\r\\n    height: fit-content;\\r\\n    width: 100%;\\r\\n    margin-bottom: 10px;\\r\\n    flex-wrap: wrap;\\r\\n\\r\\n}\\r\\n\\r\\n.book[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    justify-content: space-around;\\r\\n    align-items: center;\\r\\n    flex-wrap: wrap;\\r\\n    min-height: 150px;\\r\\n    width: 100%;\\r\\n    margin-top: 10px;\\r\\n    border-radius: 15px;\\r\\n    margin-top: 50px;\\r\\n    \\r\\n    background-color: rgb(197, 54, 54);\\r\\n    opacity:0.95;\\r\\n}\\r\\n\\r\\n.name[_ngcontent-%COMP%]{\\r\\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\\r\\n    font-size: 80px;\\r\\n}\\r\\n\\r\\n.bin[_ngcontent-%COMP%]{\\r\\n    height: 40px;\\r\\n    width: 40px;\\r\\n}\\r\\n\\r\\n.text[_ngcontent-%COMP%]{\\r\\n    font-size: 22px;\\r\\n    font-family: var(--ff-rubik);\\r\\n    color: var(--rich-black-fogra-29);\\r\\n    line-height: 1.2;\\r\\n    letter-spacing: -1px;\\r\\n    color: rgb(204, 146, 71);\\r\\n}\\r\\n\\r\\n.link[_ngcontent-%COMP%]{\\r\\n    align-self: center;\\r\\n    \\r\\n    \\r\\n}\\r\\n\\r\\n.data[_ngcontent-%COMP%]{\\r\\n    margin-top: 5px;\\r\\n    margin-bottom: 5px;\\r\\n}\\r\\n\\r\\n.images[_ngcontent-%COMP%]{\\r\\n    height: 250px;\\r\\n    width: 450px;\\r\\n    border-radius: 15px;\\r\\n    margin-top: 20px;\\r\\n    margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.empty[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    border-radius: 15px;\\r\\n    text-align: center;\\r\\n    padding: 10px;\\r\\n    background-color: rgb(197, 54, 54);\\r\\n    font-size: 20px;\\r\\n    color: rgb(221, 139, 32);\\r\\n}\\r\\n\\r\\n.material-symbols-outlined[_ngcontent-%COMP%] {\\r\\n  font-variation-settings:\\r\\n  'FILL' 0,\\r\\n  'wght' 400,\\r\\n  'GRAD' 0,\\r\\n  'opsz' 48\\r\\n}\\r\\n\\r\\n.material-symbols-outlined[_ngcontent-%COMP%] {\\r\\n  font-variation-settings:\\r\\n  'FILL' 0,\\r\\n  'wght' 400,\\r\\n  'GRAD' 0,\\r\\n  'opsz' 48\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2FydC9jYXJ0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsYUFBYTtJQUNiLGVBQWU7SUFDZiw0QkFBNEI7SUFDNUIsdUJBQXVCO0FBQzNCOztBQUVBOzs7Ozs7OztHQVFHOztBQUVIO0lBQ0ksV0FBVztJQUNYLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHdCQUFtQjtJQUFuQixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLG1CQUFtQjtJQUNuQixlQUFlOztBQUVuQjs7QUFFQTtJQUNJLGFBQWE7SUFDYiw2QkFBNkI7SUFDN0IsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsV0FBVztJQUNYLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLG1DQUFtQztJQUNuQyxrQ0FBa0M7SUFDbEMsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHFHQUFxRztJQUNyRyxlQUFlO0FBQ25COztBQUVBO0lBQ0ksWUFBWTtJQUNaLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGVBQWU7SUFDZiw0QkFBNEI7SUFDNUIsaUNBQWlDO0lBQ2pDLGdCQUFnQjtJQUNoQixvQkFBb0I7SUFDcEIsd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCO21CQUNlO0lBQ2YsNkRBQTZEO0FBQ2pFOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixhQUFhO0lBQ2Isa0NBQWtDO0lBQ2xDLGVBQWU7SUFDZix3QkFBd0I7QUFDNUI7O0FBRUE7RUFDRTs7Ozs7QUFLRjs7QUFFQTtFQUNFOzs7OztBQUtGIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lcntcclxuICAgIG1pbi1oZWlnaHQ6IDI1MHB4O1xyXG4gICAgd2lkdGg6IDExMDBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIC8qIGJhY2tncm91bmQtY29sb3I6IGFxdWE7ICovXHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLyogLmZvcm17XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIHdpZHRoOiA1MDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTQ1LCAxNDAsIDE0MCk7XHJcbiAgICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcclxufSAqL1xyXG5cclxuLmlucHV0c3tcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgbWFyZ2luOiAxMHB4O1xyXG59XHJcblxyXG4uYWRke1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICBtYXJnaW46IDEwcHg7XHJcbiAgICBtYXJnaW4tdG9wOiAzMHB4O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxufVxyXG5cclxuI2Jvb2tze1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICBmbGV4LXdyYXA6IHdyYXA7XHJcblxyXG59XHJcblxyXG4uYm9va3tcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgICBtaW4taGVpZ2h0OiAxNTBweDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgICBtYXJnaW4tdG9wOiA1MHB4O1xyXG4gICAgLyogYm94LXNoYWRvdzogMTBweCA1cHggNXB4IGdyYXk7ICovXHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTk3LCA1NCwgNTQpO1xyXG4gICAgb3BhY2l0eTowLjk1O1xyXG59XHJcblxyXG4ubmFtZXtcclxuICAgIGZvbnQtZmFtaWx5OiAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBTYW5zIFVuaWNvZGUnLCAnTHVjaWRhIEdyYW5kZScsICdMdWNpZGEgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgZm9udC1zaXplOiA4MHB4O1xyXG59XHJcblxyXG4uYmlue1xyXG4gICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgd2lkdGg6IDQwcHg7XHJcbn1cclxuXHJcbi50ZXh0e1xyXG4gICAgZm9udC1zaXplOiAyMnB4O1xyXG4gICAgZm9udC1mYW1pbHk6IHZhcigtLWZmLXJ1YmlrKTtcclxuICAgIGNvbG9yOiB2YXIoLS1yaWNoLWJsYWNrLWZvZ3JhLTI5KTtcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjI7XHJcbiAgICBsZXR0ZXItc3BhY2luZzogLTFweDtcclxuICAgIGNvbG9yOiByZ2IoMjA0LCAxNDYsIDcxKTtcclxufVxyXG5cclxuLmxpbmt7XHJcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XHJcbiAgICAvKiBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgd2lkdGg6IDMwMHB4OyAqL1xyXG4gICAgLyogYmFja2dyb3VuZC1pbWFnZTogdXJsKFwic3JjL2ltYWdlcy9rb3RsZXQtc2NoYWJvd3kuanBnXCIpOyAqL1xyXG59XHJcblxyXG4uZGF0YXtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxufVxyXG5cclxuLmltYWdlc3tcclxuICAgIGhlaWdodDogMjUwcHg7XHJcbiAgICB3aWR0aDogNDUwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbn1cclxuXHJcbi5lbXB0eSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTk3LCA1NCwgNTQpO1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgY29sb3I6IHJnYigyMjEsIDEzOSwgMzIpO1xyXG59XHJcblxyXG4ubWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCB7XHJcbiAgZm9udC12YXJpYXRpb24tc2V0dGluZ3M6XHJcbiAgJ0ZJTEwnIDAsXHJcbiAgJ3dnaHQnIDQwMCxcclxuICAnR1JBRCcgMCxcclxuICAnb3BzeicgNDhcclxufVxyXG5cclxuLm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQge1xyXG4gIGZvbnQtdmFyaWF0aW9uLXNldHRpbmdzOlxyXG4gICdGSUxMJyAwLFxyXG4gICd3Z2h0JyA0MDAsXHJcbiAgJ0dSQUQnIDAsXHJcbiAgJ29wc3onIDQ4XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;IAEQA,8BAA6C;IAIZA,YAAkB;IAAAA,iBAAM;IACjDA,8BAA0B;IAAAA,YAA2B;IAAAA,iBAAM;IAG/DA,0BAA+C;IAC/CA,+BAA2B;IAAAA,YAA0B;IAAAA,iBAAM;IAE3DA,kCAAiC;IAAzBA;MAAA;MAAA;MAAA;MAAA,OAASA,uCAAc;IAAA,EAAC;IAC5BA,iCAAwC;IACpCA,yBACJ;IAAAA,iBAAO;;;;IAVkBA,eAAkB;IAAlBA,mEAAkB;IACjBA,eAA2B;IAA3BA,0FAA2B;IAGnCA,eAAsB;IAAtBA,gGAAsB;IACjBA,eAA0B;IAA1BA,wDAA0B;;;;;IAU7DA,+BAA8C;IAC1CA,mCACJ;IAAAA,iBAAM;;;;;;IAENA,kCAAmD;IAAhBA;MAAAA;MAAA;MAAA,OAASA,2BAAK;IAAA,EAAC;IAC9CA,gCAAwC;IACpCA,sBACJ;IAAAA,iBAAO;;;ACnBf,OAAM,MAAOC,aAAa;EASxBC,YAAoBC,KAAqB;IAArB,UAAK,GAALA,KAAK;IALzB,WAAM,GAAY,EAAE;EAKwB;EAE5CC,QAAQ;IAEN,IAAIC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,IAAG,IAAI,CAAC,CAACC,EAAE;IACvE,IAAIC,GAAG,GAAG,IAAI,CAACC,SAAS,CAACP,OAAO,CAAC;IACjCM,GAAG,CAACE,SAAS,CAAEC,GAAW,IAAG;MACzB,IAAIC,IAAI,GAAGD,GAAG,CAACE,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,MAAM,IAAI,IAAI,CAAC;MAClD,IAAI,CAACC,MAAM,GAAGJ,IAAI;IACtB,CAAC,CAAC;EACJ;EAEAK,GAAG;IACD,IAAI,CAACD,MAAM,CAACE,OAAO,CAACC,KAAK,IAAE;MACzBA,KAAK,CAACJ,MAAM,GAAG,IAAI;MACnB,IAAIP,GAAG,GAAG,IAAI,CAACY,SAAS,CAACD,KAAK,CAACZ,EAAE,EAAEY,KAAK,CAAC;MACzCX,GAAG,CAACE,SAAS,EAAE;IACjB,CAAC,CAAC;IAEF,IAAI,CAACM,MAAM,GAAG,IAAI,CAACA,MAAM,CAACH,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,MAAM,IAAI,IAAI,CAAC;EAE/D;EAEAM,MAAM,CAACd,EAAsB;IAC3B,IAAIC,GAAG,GAAG,IAAI,CAACc,UAAU,CAACf,EAAE,CAAC;IAC7BC,GAAG,CAACE,SAAS,CAAEC,GAAO,IAAG,CACzB,CAAC,CAAC;IAEF,IAAI,CAACK,MAAM,GAAG,IAAI,CAACA,MAAM,CAACH,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACP,EAAE,IAAIA,EAAE,CAAC;EAEzD;;AAvCWT,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAyB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT1B9B,8BAAyB;MAEjBA,+DAgBM;MACVA,iBAAM;MAENA,8DAEM;MAENA,oEAIS;MACbA,iBAAM;;;MA5BuBA,eAAS;MAATA,oCAAS;MAmB5BA,eAAwB;MAAxBA,6CAAwB;MAIrBA,eAAwB;MAAxBA,6CAAwB","names":["i0","CartComponent","constructor","route","ngOnInit","user_id","JSON","parse","localStorage","getItem","id","fun","getOrders","subscribe","res","res1","filter","item","bought","orders","buy","forEach","order","goHistory","remove","removeById","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Justyna\\Desktop\\PW\\Restaurant-App\\src\\app\\cart\\cart.component.html","C:\\Users\\Justyna\\Desktop\\PW\\Restaurant-App\\src\\app\\cart\\cart.component.ts"],"sourcesContent":["<div class = \"container\">\n    <div id=\"books\"#books>\n        <div *ngFor=\"let obj of orders\" class=\"book\">\n            \n            \n            <div class = 'data'>\n                <div class = \"name text\">{{obj.dish?.name}}</div>\n                <div class = \"price text\">Cena: {{obj.dish?.price}}zł</div>\n            </div>\n\n            <img class = \"images\" src={{obj.dish?.link}} />\n            <div class = \"number text\">Liczba: {{obj.number}}szt.</div>\n\n            <button (click)=\"remove(obj.id)\">\n                <span class=\"material-symbols-outlined\">\n                    delete\n                </span>\n            </button>      \n        </div>\n    </div>\n\n    <div *ngIf=\"orders.length == 0\" class=\"empty\">\n        Koszyk jest pusty\n    </div>\n\n    <button *ngIf=\"orders.length != 0\" (click)=\"buy()\">\n        <span class=\"material-symbols-outlined\">\n            paid\n        </span>\n    </button>\n</div>\n","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Order, Session } from '../app.component';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent {\n\n  getOrders: Function;\n  loggedUsers: Session[];\n  orders: Order[] = [];\n  removeById: Function;\n  refresh: Function;\n  goHistory: Function;\n\n  constructor(private route: ActivatedRoute) {}\n\n  ngOnInit(){\n    \n    let user_id = JSON.parse(localStorage.getItem(\"currentUser\")|| '{}').id;\n    let fun = this.getOrders(user_id);\n    fun.subscribe((res:Order[])=>{\n        let res1 = res.filter(item => item.bought != true);\n        this.orders = res1;\n    })\n  }\n\n  buy(){\n    this.orders.forEach(order=>{\n      order.bought = true;\n      let fun = this.goHistory(order.id, order);\n      fun.subscribe();\n    })\n\n    this.orders = this.orders.filter(item => item.bought != true);\n    \n  }\n\n  remove(id: number | undefined){\n    let fun = this.removeById(id);\n    fun.subscribe((res:any)=>{\n    });\n    \n    this.orders = this.orders.filter(item => item.id != id);\n    \n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}