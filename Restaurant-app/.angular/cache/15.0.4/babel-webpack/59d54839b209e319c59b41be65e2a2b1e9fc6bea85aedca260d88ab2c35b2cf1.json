{"ast":null,"code":"import * as i0 from \"@angular/core\";\nconst _c0 = [\"mail\"];\nconst _c1 = [\"pass\"];\nexport class LoggingComponent {\n  signin() {\n    let email = this.mail.nativeElement.value;\n    let password = this.pass.nativeElement.value;\n    const lc = {\n      email: this.mail.nativeElement.value,\n      password: this.pass.nativeElement.value\n    };\n    let fun = this.callbackRequest(lc);\n    fun.subscribe(res => {\n      this.loggedUsers.push(res);\n      localStorage.setItem('currentUser', JSON.stringify({\n        id: res.id,\n        token: res.token\n      }));\n      // window.location.reload();\n      this.load();\n      // window.location.reload();\n      this.reloadBar();\n    }, err => {\n      alert(err.error.message);\n    });\n  }\n}\nLoggingComponent.ɵfac = function LoggingComponent_Factory(t) {\n  return new (t || LoggingComponent)();\n};\nLoggingComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoggingComponent,\n  selectors: [[\"app-logging\"]],\n  viewQuery: function LoggingComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.mail = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.pass = _t.first);\n    }\n  },\n  decls: 16,\n  vars: 0,\n  consts: [[1, \"container\"], [1, \"form\"], [\"form\", \"\"], [1, \"inputs\"], [\"type\", \"tel\", 1, \"email\"], [\"mail\", \"\"], [\"type\", \"tel\", 1, \"password\"], [\"pass\", \"\"], [1, \"add\", 3, \"click\"]],\n  template: function LoggingComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1, 2)(3, \"div\", 3)(4, \"p\");\n      i0.ɵɵtext(5, \"EMail:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"input\", 4, 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 3)(9, \"p\");\n      i0.ɵɵtext(10, \"Password:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 6, 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 3)(14, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function LoggingComponent_Template_button_click_14_listener() {\n        return ctx.signin();\n      });\n      i0.ɵɵtext(15, \"Dodaj\");\n      i0.ɵɵelementEnd()()()();\n    }\n  },\n  styles: [\".container[_ngcontent-%COMP%]{\\r\\n    min-height: 250px;\\r\\n    width: 1100px;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n    margin-top: 20px;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    \\r\\n    justify-content: center;\\r\\n    opacity: 90%;\\r\\n}\\r\\n\\r\\n.form[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    \\r\\n    height: -moz-fit-content;\\r\\n    height: fit-content;\\r\\n    width: 300px;\\r\\n    border-radius: 15px;\\r\\n    background-color: rgb(197, 54, 54);\\r\\n    align-self: flex-end;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.inputs[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 4px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9nZ2luZy9sb2dnaW5nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLGFBQWE7SUFDYixlQUFlO0lBQ2YsNEJBQTRCO0lBQzVCLHVCQUF1QjtJQUN2QixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHFCQUFxQjtJQUNyQix3QkFBbUI7SUFBbkIsbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsa0NBQWtDO0lBQ2xDLG9CQUFvQjtJQUNwQix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0QiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXJ7XHJcbiAgICBtaW4taGVpZ2h0OiAyNTBweDtcclxuICAgIHdpZHRoOiAxMTAwcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAgLyogYmFja2dyb3VuZC1jb2xvcjogYXF1YTsgKi9cclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgb3BhY2l0eTogOTAlO1xyXG59XHJcblxyXG4uZm9ybXtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAvKiBmbGV4LXdyYXA6IHdyYXA7ICovXHJcbiAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xyXG4gICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxOTcsIDU0LCA1NCk7XHJcbiAgICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbi5pbnB1dHN7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA0cHg7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;AAYA,OAAM,MAAOA,gBAAgB;EAS3BC,MAAM;IACJ,IAAIC,KAAK,GAAG,IAAI,CAACC,IAAI,CAACC,aAAa,CAACC,KAAK;IACzC,IAAIC,QAAQ,GAAG,IAAI,CAACC,IAAI,CAACH,aAAa,CAACC,KAAK;IAC5C,MAAMG,EAAE,GAAoB;MAC1BN,KAAK,EAAE,IAAI,CAACC,IAAI,CAACC,aAAa,CAACC,KAAK;MACpCC,QAAQ,EAAE,IAAI,CAACC,IAAI,CAACH,aAAa,CAACC;KAClC;IACF,IAAII,GAAG,GAAG,IAAI,CAACC,eAAe,CAACF,EAAE,CAAC;IAClCC,GAAG,CAACE,SAAS,CAAEC,GAAW,IAAG;MAC3B,IAAI,CAACC,WAAW,CAACC,IAAI,CAACF,GAAG,CAAC;MAC1BG,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEC,IAAI,CAACC,SAAS,CAAC;QAACC,EAAE,EAAEP,GAAG,CAACO,EAAE;QAAEC,KAAK,EAAER,GAAG,CAACQ;MAAK,CAAC,CAAC,CAAC;MACnF;MACA,IAAI,CAACC,IAAI,EAAE;MACX;MACA,IAAI,CAACC,SAAS,EAAE;IAEpB,CAAC,EAAEC,GAAqB,IAAG;MACzBC,KAAK,CAACD,GAAG,CAACE,KAAK,CAACC,OAAO,CAAC;IAAA,CAAC,CAAC;EAC5B;;AA3BW1B,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAA2B;EAAAC;IAAA;;;;;;;;;;;;;;;MCZ7BC,8BAAyB;MAGNA,sBAAM;MAAAA,iBAAI;MACbA,8BAAwC;MAC5CA,iBAAM;MACNA,8BAAsB;MACfA,0BAAS;MAAAA,iBAAI;MAChBA,+BAA2C;MAC/CA,iBAAM;MACNA,+BAAsB;MACVA;QAAA,OAASC,YAAQ;MAAA,EAAE;MAAeD,sBAAK;MAAAA,iBAAS","names":["LoggingComponent","signin","email","mail","nativeElement","value","password","pass","lc","fun","callbackRequest","subscribe","res","loggedUsers","push","localStorage","setItem","JSON","stringify","id","token","load","reloadBar","err","alert","error","message","selectors","viewQuery","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\Justyna\\Desktop\\PW\\Restaurant-App\\src\\app\\logging\\logging.component.ts","C:\\Users\\Justyna\\Desktop\\PW\\Restaurant-App\\src\\app\\logging\\logging.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ViewChild } from '@angular/core';\nimport { ElementRef } from '@angular/core';\nimport { LoginCredentails } from '../app.component';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Session } from '../app.component';\n\n@Component({\n  selector: 'app-logging',\n  templateUrl: './logging.component.html',\n  styleUrls: ['./logging.component.css']\n})\nexport class LoggingComponent {\n  @ViewChild('mail') mail:ElementRef;\n  @ViewChild('pass') pass:ElementRef;\n\n  callbackRequest: Function;\n  load: Function;\n  loggedUsers:Session[];\n  reloadBar:Function;\n\n  signin(){\n    let email = this.mail.nativeElement.value;\n    let password = this.pass.nativeElement.value;\n    const lc: LoginCredentails=({\n      email: this.mail.nativeElement.value,\n      password: this.pass.nativeElement.value\n    });\n    let fun = this.callbackRequest(lc);\n    fun.subscribe((res:Session)=>{\n      this.loggedUsers.push(res);\n      localStorage.setItem('currentUser', JSON.stringify({id: res.id, token: res.token}));\n      // window.location.reload();\n      this.load();\n      // window.location.reload();\n      this.reloadBar();\n      \n  },(err:HttpErrorResponse)=>{\n    alert(err.error.message)});\n  }\n}\n","<div class = \"container\">\n    <div class = \"form\"#form>\n            <div class = \"inputs\">\n                <p>EMail:</p>\n                <input #mail class = \"email\" type=\"tel\">\n            </div>\n            <div class = \"inputs\">\n                <p>Password:</p>\n                <input #pass class = \"password\" type=\"tel\">\n            </div>\n            <div class = \"inputs\">\n                <button (click)=\"signin();\" class = \"add\">Dodaj</button>\n            </div>\n    </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}