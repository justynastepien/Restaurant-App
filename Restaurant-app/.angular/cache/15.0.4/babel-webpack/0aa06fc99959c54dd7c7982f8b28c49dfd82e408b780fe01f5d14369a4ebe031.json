{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = [\"rating\"];\nconst _c1 = [\"content\"];\nfunction OneDishComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 20);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 22);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const review_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"U\\u017Cytkownik \", review_r3.user.nick, \" napisa\\u0142:\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Ocena: \", review_r3.rating, \"/5\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(review_r3.content);\n  }\n}\nfunction OneDishComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23, 24)(2, \"div\", 25);\n    i0.ɵɵtext(3, \" Ocena: \");\n    i0.ɵɵelement(4, \"input\", 26, 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 25);\n    i0.ɵɵtext(7, \" Opis: \");\n    i0.ɵɵelement(8, \"textarea\", 28, 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 25)(11, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function OneDishComponent_div_38_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.addReview());\n    });\n    i0.ɵɵtext(12, \"Dodaj\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport class OneDishComponent {\n  constructor(route) {\n    this.route = route;\n    this.forUser = false;\n  }\n  ngOnInit() {\n    let i = this.route.snapshot.paramMap.get('id');\n    console.log(i);\n    // this.callbackRequest.subscribe((res:Dish)=>{\n    //   console.log(res);\n    // })\n    if (JSON.parse(localStorage.getItem('currentUser') || '{}').token != null) {\n      this.forUser = true;\n    } else {\n      this.forUser = false;\n    }\n    let fun = this.callbackRequest(1);\n    fun.subscribe(res => {\n      console.log(res);\n      this.dish = res;\n    });\n    let fun1 = this.getReviews(i);\n    fun1.subscribe(res => {\n      this.reviews = res;\n    });\n    if (JSON.parse(localStorage.getItem(\"currentUser\") || '{}').id != '{}') {\n      this.locked = true;\n    }\n  }\n  addReview() {\n    let rat = this.rating.nativeElement.value;\n    let con = this.content.nativeElement.value;\n    let user_id = JSON.parse(localStorage.getItem(\"currentUser\") || '{}').id;\n    let fun = this.getUser(user_id);\n    let user_1;\n    fun.subscribe(res => {\n      user_1 = res;\n      const rev = {\n        user: user_1,\n        dish: this.dish,\n        rating: rat,\n        content: con\n      };\n      console.log(rev);\n      let fun1 = this.sendReview(rev);\n      fun1.subscribe(res1 => {\n        console.log(res1);\n        this.reviews.push(res1);\n      });\n    });\n    this.rating.nativeElement.value = '';\n    this.content.nativeElement.value = '';\n  }\n}\nOneDishComponent.ɵfac = function OneDishComponent_Factory(t) {\n  return new (t || OneDishComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nOneDishComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OneDishComponent,\n  selectors: [[\"app-one-dish\"]],\n  viewQuery: function OneDishComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.rating = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n    }\n  },\n  decls: 39,\n  vars: 10,\n  consts: [[1, \"container\"], [\"id\", \"books\"], [\"books\", \"\"], [1, \"name\", \"text\"], [1, \"slaider\"], [1, \"left_arrow\"], [1, \"images\", 3, \"src\"], [1, \"right_arrow\"], [1, \"data\"], [1, \"type\", \"text\"], [1, \"text\"], [1, \"category\", \"text\"], [1, \"ingredients\", \"text\"], [1, \"max_number\", \"text\"], [1, \"price\", \"text\"], [1, \"desription\", \"text\"], [1, \"op\"], [1, \"opinions\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"form\", 4, \"ngIf\"], [1, \"name1\", \"text\"], [1, \"rating\", \"text\"], [1, \"content\", \"text\"], [1, \"form\"], [\"form\", \"\"], [1, \"inputs\"], [\"type\", \"number\", \"min\", \"1\", \"max\", \"5\", 1, \"rating\"], [\"rating\", \"\"], [\"cols\", \"40\", \"rows\", \"5\", 1, \"content\"], [\"content\", \"\"], [1, \"add\", 3, \"click\"]],\n  template: function OneDishComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1, 2)(3, \"div\", 3);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelement(6, \"div\", 5)(7, \"img\", 6)(8, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"div\", 9)(11, \"div\", 10);\n      i0.ɵɵtext(12, \"Rodzaj:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 11)(15, \"div\", 10);\n      i0.ɵɵtext(16, \"Kategoria:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 12)(19, \"div\", 10);\n      i0.ɵɵtext(20, \"Sk\\u0142adniki:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 13)(23, \"div\", 10);\n      i0.ɵɵtext(24, \"Maksymalna liczba na dzie\\u0144:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 14)(27, \"div\", 10);\n      i0.ɵɵtext(28, \"Cena:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(29);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"div\", 15)(31, \"div\", 10);\n      i0.ɵɵtext(32, \"Opis:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(33);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(34, \"div\", 16);\n      i0.ɵɵtext(35, \"Opinie:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 17);\n      i0.ɵɵtemplate(37, OneDishComponent_div_37_Template, 7, 3, \"div\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(38, OneDishComponent_div_38_Template, 13, 0, \"div\", 19);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.dish.name);\n      i0.ɵɵadvance(3);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.dish.link, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\" \", ctx.dish.type, \" \");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.dish.category);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.dish.ingredients);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.dish.max_number_per_day);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"\", ctx.dish.price, \" z\\u0142\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.dish.description);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.reviews);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.forUser == true);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\".container[_ngcontent-%COMP%]{\\r\\n    min-height: 250px;\\r\\n    width: 1100px;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n    margin-top: 50px;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: center;\\r\\n    background-color: rgb(197, 54, 54);\\r\\n    border-radius: 15px;\\r\\n    opacity: 95%;\\r\\n}\\r\\n\\r\\n#books[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    height: -moz-fit-content;\\r\\n    height: fit-content;\\r\\n    width: 100%;\\r\\n    margin-bottom: 10px;\\r\\n    margin-top: 20px;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n    flex-wrap: wrap;\\r\\n    \\r\\n    justify-content: center;\\r\\n    flex-direction: column;\\r\\n    align-items: center;\\r\\n    opacity: 90%;\\r\\n}\\r\\n\\r\\n.slaider[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n    height: 600px;\\r\\n}\\r\\n\\r\\n.images[_ngcontent-%COMP%]{\\r\\n    width: 100%;\\r\\n    height: 600px;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.data[_ngcontent-%COMP%]{\\r\\n    margin-top: 20px;\\r\\n    border-radius: 15px;\\r\\n}\\r\\n\\r\\n.text[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    margin-bottom: 15px;\\r\\n    font-size: 30px;\\r\\n    font-family: var(--ff-rubik);\\r\\n    color: var(--rich-black-fogra-29);\\r\\n    line-height: 1.2;\\r\\n    letter-spacing: -1px;\\r\\n    \\r\\n    color: rgb(204, 146, 71);\\r\\n}\\r\\n\\r\\n.name[_ngcontent-%COMP%]{\\r\\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\\r\\n    font-size: 70px;\\r\\n    font-family: var(--ff-rubik);\\r\\n    color: var(--rich-black-fogra-29);\\r\\n    line-height: 1.2;\\r\\n    letter-spacing: -1px;\\r\\n    \\r\\n    color: rgb(204, 146, 71);\\r\\n}\\r\\n\\r\\n.opinions[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    height: -moz-fit-content;\\r\\n    height: fit-content;\\r\\n    width: 100%;\\r\\n    margin-bottom: 10px;\\r\\n    margin-top: 20px;\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n    flex-wrap: wrap;\\r\\n    flex-direction: row;\\r\\n    align-items: center;\\r\\n    align-content: center;\\r\\n    background-color: rgb(226, 225, 228);\\r\\n    justify-content: center;\\r\\n    opacity: 90%;\\r\\n}\\r\\n\\r\\n.op[_ngcontent-%COMP%]{\\r\\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\\r\\n    font-size: 60px;\\r\\n    font-family: var(--ff-rubik);\\r\\n    color: var(--rich-black-fogra-29);\\r\\n    line-height: 1.2;\\r\\n    letter-spacing: -1px;\\r\\n    \\r\\n    color: rgb(204, 146, 71);\\r\\n}\\r\\n\\r\\n.form[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    \\r\\n    height: -moz-fit-content;\\r\\n    height: fit-content;\\r\\n    width: 300px;\\r\\n    border-radius: 15px;\\r\\n    \\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.inputs[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 4px;\\r\\n    font-size: 23px;\\r\\n    font-family: var(--ff-rubik);\\r\\n    color: var(--rich-black-fogra-29);\\r\\n    line-height: 1.2;\\r\\n    letter-spacing: -1px;\\r\\n    \\r\\n    color: rgb(204, 146, 71);\\r\\n}\\r\\n\\r\\n.rating[_ngcontent-%COMP%]{\\r\\n    width: 50px;\\r\\n}\\r\\n\\r\\n.opinions[_ngcontent-%COMP%]{\\r\\n    width: 80%;\\r\\n    border-radius: 15px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvb25lLWRpc2gvb25lLWRpc2guY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsYUFBYTtJQUNiLGVBQWU7SUFDZix1QkFBdUI7SUFDdkIsa0NBQWtDO0lBQ2xDLG1CQUFtQjtJQUNuQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHdCQUFtQjtJQUFuQixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2Ysa0NBQWtDO0lBQ2xDLHVCQUF1QjtJQUN2QixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0FBQ2pCOzs7O0FBSUE7SUFDSSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLDRCQUE0QjtJQUM1QixpQ0FBaUM7SUFDakMsZ0JBQWdCO0lBQ2hCLG9CQUFvQjtJQUNwQixzQkFBc0I7SUFDdEIsd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0kscUdBQXFHO0lBQ3JHLGVBQWU7SUFDZiw0QkFBNEI7SUFDNUIsaUNBQWlDO0lBQ2pDLGdCQUFnQjtJQUNoQixvQkFBb0I7SUFDcEIsc0JBQXNCO0lBQ3RCLHdCQUF3QjtBQUM1Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYix3QkFBbUI7SUFBbkIsbUJBQW1CO0lBQ25CLFdBQVc7SUFDWCxtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLG1CQUFtQjtJQUNuQixtQkFBbUI7SUFDbkIscUJBQXFCO0lBQ3JCLG9DQUFvQztJQUNwQyx1QkFBdUI7SUFDdkIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHFHQUFxRztJQUNyRyxlQUFlO0lBQ2YsNEJBQTRCO0lBQzVCLGlDQUFpQztJQUNqQyxnQkFBZ0I7SUFDaEIsb0JBQW9CO0lBQ3BCLHNCQUFzQjtJQUN0Qix3QkFBd0I7QUFDNUI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IscUJBQXFCO0lBQ3JCLHdCQUFtQjtJQUFuQixtQkFBbUI7SUFDbkIsWUFBWTtJQUNaLG1CQUFtQjtJQUNuQiwwQ0FBMEM7SUFDMUMsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLDRCQUE0QjtJQUM1QixpQ0FBaUM7SUFDakMsZ0JBQWdCO0lBQ2hCLG9CQUFvQjtJQUNwQixzQkFBc0I7SUFDdEIsd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0ksV0FBVztBQUNmOztBQUVBO0lBQ0ksVUFBVTtJQUNWLG1CQUFtQjtBQUN2QiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXJ7XHJcbiAgICBtaW4taGVpZ2h0OiAyNTBweDtcclxuICAgIHdpZHRoOiAxMTAwcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICAgIG1hcmdpbi10b3A6IDUwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTk3LCA1NCwgNTQpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgIG9wYWNpdHk6IDk1JTtcclxufVxyXG5cclxuI2Jvb2tze1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiBibHVldmlvbGV0OyAqL1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIG9wYWNpdHk6IDkwJTtcclxufVxyXG5cclxuLnNsYWlkZXJ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogNjAwcHg7XHJcbn1cclxuXHJcbi5pbWFnZXN7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogNjAwcHg7XHJcbn1cclxuXHJcblxyXG5cclxuLmRhdGF7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxufVxyXG5cclxuLnRleHR7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbiAgICBmb250LXNpemU6IDMwcHg7XHJcbiAgICBmb250LWZhbWlseTogdmFyKC0tZmYtcnViaWspO1xyXG4gICAgY29sb3I6IHZhcigtLXJpY2gtYmxhY2stZm9ncmEtMjkpO1xyXG4gICAgbGluZS1oZWlnaHQ6IDEuMjtcclxuICAgIGxldHRlci1zcGFjaW5nOiAtMXB4O1xyXG4gICAgLyogcmdiKDIyMSwgMTM5LCAzMikgKi9cclxuICAgIGNvbG9yOiByZ2IoMjA0LCAxNDYsIDcxKTtcclxufVxyXG5cclxuLm5hbWV7XHJcbiAgICBmb250LWZhbWlseTogJ1RyZWJ1Y2hldCBNUycsICdMdWNpZGEgU2FucyBVbmljb2RlJywgJ0x1Y2lkYSBHcmFuZGUnLCAnTHVjaWRhIFNhbnMnLCBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgIGZvbnQtc2l6ZTogNzBweDtcclxuICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mZi1ydWJpayk7XHJcbiAgICBjb2xvcjogdmFyKC0tcmljaC1ibGFjay1mb2dyYS0yOSk7XHJcbiAgICBsaW5lLWhlaWdodDogMS4yO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IC0xcHg7XHJcbiAgICAvKiByZ2IoMjIxLCAxMzksIDMyKSAqL1xyXG4gICAgY29sb3I6IHJnYigyMDQsIDE0NiwgNzEpO1xyXG59XHJcblxyXG4ub3BpbmlvbnN7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgaGVpZ2h0OiBmaXQtY29udGVudDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIyNiwgMjI1LCAyMjgpO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBvcGFjaXR5OiA5MCU7XHJcbn1cclxuXHJcbi5vcHtcclxuICAgIGZvbnQtZmFtaWx5OiAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBTYW5zIFVuaWNvZGUnLCAnTHVjaWRhIEdyYW5kZScsICdMdWNpZGEgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgZm9udC1zaXplOiA2MHB4O1xyXG4gICAgZm9udC1mYW1pbHk6IHZhcigtLWZmLXJ1YmlrKTtcclxuICAgIGNvbG9yOiB2YXIoLS1yaWNoLWJsYWNrLWZvZ3JhLTI5KTtcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjI7XHJcbiAgICBsZXR0ZXItc3BhY2luZzogLTFweDtcclxuICAgIC8qIHJnYigyMjEsIDEzOSwgMzIpICovXHJcbiAgICBjb2xvcjogcmdiKDIwNCwgMTQ2LCA3MSk7XHJcbn1cclxuXHJcbi5mb3Jte1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIC8qIGZsZXgtd3JhcDogd3JhcDsgKi9cclxuICAgIGhlaWdodDogZml0LWNvbnRlbnQ7XHJcbiAgICB3aWR0aDogMzAwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gICAgLyogYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpOyAqL1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxuLmlucHV0c3tcclxuICAgIG1hcmdpbi1ib3R0b206IDRweDtcclxuICAgIGZvbnQtc2l6ZTogMjNweDtcclxuICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1mZi1ydWJpayk7XHJcbiAgICBjb2xvcjogdmFyKC0tcmljaC1ibGFjay1mb2dyYS0yOSk7XHJcbiAgICBsaW5lLWhlaWdodDogMS4yO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IC0xcHg7XHJcbiAgICAvKiByZ2IoMjIxLCAxMzksIDMyKSAqL1xyXG4gICAgY29sb3I6IHJnYigyMDQsIDE0NiwgNzEpO1xyXG59XHJcblxyXG4ucmF0aW5ne1xyXG4gICAgd2lkdGg6IDUwcHg7XHJcbn1cclxuXHJcbi5vcGluaW9uc3tcclxuICAgIHdpZHRoOiA4MCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG59XHJcblxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","OneDishComponent","constructor","route","ngOnInit","i","snapshot","paramMap","get","console","log","JSON","parse","localStorage","getItem","token","forUser","fun","callbackRequest","subscribe","res","dish","fun1","getReviews","reviews","id","locked","addReview","rat","rating","nativeElement","value","con","content","user_id","getUser","user_1","rev","user","sendReview","res1","push","selectors","viewQuery"],"sourceRoot":"","sources":["C:\\Users\\Justyna\\Desktop\\PW\\Restaurant-App\\src\\app\\one-dish\\one-dish.component.html","C:\\Users\\Justyna\\Desktop\\PW\\Restaurant-App\\src\\app\\one-dish\\one-dish.component.ts"],"sourcesContent":["<div class = \"container\">\n    <div id=\"books\"#books>\n        \n        <div class = \"name text\">{{dish.name}}</div>\n\n        <div class = \"slaider\">\n                <div class=\"left_arrow\"></div>\n                <img class = \"images\" src={{dish.link}} />\n                <div class=\"right_arrow\"></div>\n        </div>\n            \n        <div class = 'data'>\n            <div class = \"type text\">\n                <div class='text'>Rodzaj:</div>\n                {{dish.type}}\n            </div>\n            <div class = \"category text\"><div class='text'>Kategoria:</div>{{dish.category}}</div>\n            <div class = \"ingredients text\"><div class='text'>Składniki:</div>{{dish.ingredients}}</div>\n            <div class = \"max_number text\"><div class='text'>Maksymalna liczba na dzień:</div>{{dish.max_number_per_day}}</div>\n            <div class = \"price text\"><div class='text'>Cena:</div>{{dish.price}} zł</div>\n            <div class = \"desription text\"><div class='text'>Opis:</div>{{dish.description}}</div>\n        </div>\n            \n\n        \n        <div class = \"op\">Opinie:</div>\n        <div class = 'opinions'>\n            <div *ngFor=\"let review of reviews\">\n                <div class = \"name1 text\">Użytkownik {{review.user.nick}} napisał:</div>\n                <div class = \"rating text\">Ocena: {{review.rating}}/5</div>\n                <div class = \"content text\">{{review.content}}</div>\n            </div>\n        </div>\n        \n        <div *ngIf=\"forUser == true\" class = \"form\"#form>\n            <div class = \"inputs\" >\n                Ocena:\n                <input #rating class = \"rating\" type=\"number\" min=\"1\" max=\"5\">\n            </div>\n            <div class = \"inputs\">\n                Opis:\n                <textarea #content class = \"content\" cols=\"40\" rows=\"5\" ></textarea>\n            </div>\n          \n            <div class = \"inputs\">\n                <button (click)=\"addReview();\" class = \"add\">Dodaj</button>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Dish, Review, User } from '../app.component';\nimport { Observable } from 'rxjs';\nimport { ViewChild } from '@angular/core';\nimport { ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'app-one-dish',\n  templateUrl: './one-dish.component.html',\n  styleUrls: ['./one-dish.component.css']\n})\nexport class OneDishComponent {\n  public id: string;\n  constructor(private route: ActivatedRoute) {}\n  dish:Dish\n  @ViewChild('rating') rating:ElementRef;\n  @ViewChild('content') content:ElementRef;\n\n  getReviews: Function;\n  reviews: Review[];\n  getUser: Function;\n  sendReview: Function;\n  forUser: boolean = false;\n\n  // @Input() callbackRequest:any;;\n  public callbackRequest: any;;\n  locked: boolean;\n\n  ngOnInit(){\n    let i = this.route.snapshot.paramMap.get('id');\n    console.log(i)\n    // this.callbackRequest.subscribe((res:Dish)=>{\n    //   console.log(res);\n    // })\n    if(JSON.parse(localStorage.getItem('currentUser') || '{}').token != null){\n      this.forUser = true;\n    }\n    else{\n      this.forUser = false;\n    }\n\n    let fun = this.callbackRequest(1)\n    fun.subscribe((res:Dish)=>{\n        console.log(res);\n        this.dish = res;\n    })\n\n    let fun1 = this.getReviews(i);\n    fun1.subscribe((res:Review[])=>{\n      this.reviews = res;\n    })\n\n    if(JSON.parse(localStorage.getItem(\"currentUser\")|| '{}').id != '{}'){\n      this.locked = true;\n    }\n\n  }\n  \n  addReview(){\n    let rat = this.rating.nativeElement.value;\n    let con = this.content.nativeElement.value;\n    let user_id = JSON.parse(localStorage.getItem(\"currentUser\")|| '{}').id;\n    let fun = this.getUser(user_id);\n    let user_1:User;\n\n    fun.subscribe((res:User)=>{\n      user_1 = res;\n      const rev: Review=({\n        user: user_1,\n        dish: this.dish,\n        rating: rat,\n        content: con\n      });\n      console.log(rev);\n      let fun1 = this.sendReview(rev);\n      fun1.subscribe((res1:Review)=>{\n        console.log(res1);\n        this.reviews.push(res1);\n      })\n      \n    })\n\n    this.rating.nativeElement.value = '';\n    this.content.nativeElement.value = '';\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}